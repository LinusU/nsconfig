"use strict";var _={extend:require("lodash.assign")},osenv=require("osenv"),parseConfig=require("./parse-config"),resolveEnv=require("./resolve-env"),resolveLocal=require("./resolve-local"),checkParams=require("./check-params");module.exports=function(e,r,s){e=e||{};var n={},o=!1;2===arguments.length&&"boolean"==typeof r?o=r:2===arguments.length?n=r:3===arguments.length&&(o=s,n=r||{});var a=parseConfig(osenv.home()+"/.ns/nsconfig.json"),l=parseConfig(resolveLocal()),v=resolveEnv();return e=_.extend({},v,a,l,e),e=checkParams(e,o,n)};